<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title>JS form 이벤트</title>
    
<script>
    window.onload = function(){
        //첫번째 폼요소 이벤트 처리(submit(비밀번호보기) 클릭되었을 때)
        document.frm1.onsubmit = function(){
            console.log("frm1 submit 클릭!");
            let pw1 = document.frm1.user_pw1;//id든 name이든 상관x
//            console.log("pw1 : " + pw1);
            let pw2 = document.frm1.pw2;
            
            pw2.value = pw1.value;
            pw2.disabled = true; //disabled: 사용할 수 없게 처리(edit여부처리)
            
            return false; //submit 처리하지 않음. 서버전송안함
        };
        
        //두번째 폼요소 이벤트처리(submit(등록) 클릭되었을 때)
        document.frm2.onsubmit = function(){
            //let accept = document.getElementById("id_acpt");
            let accept = document.frm2.accept;
            if(!accept.checked) {
                alert("약관에 동의해야 합니다. \n약관동의 체크하세요.");
                //accept.focus();
                return false;
            }
        };
        
        //전체선택에 대한 이벤트
        //체크상태 : 과목1, 과목2, 과목3 모두 체크 처리
        //체크 안된 상태 : 과목1, 과목2, 과목3 모두 체크 해제 처리
        document.frm2.allCheck.onclick = function(){
            //this : 현재 이벤트가 발생한 객체
            if(this.checked){ //this를 사용하면 따로 변수처리 필요X, checked자체가 true/false 값을 가짐
                /*
                document.frm2.subject1.checked = true;
                document.frm2.subject2.checked = true;
                document.frm2.subject3.checked = true;
                */
                var subClass = document.getElementsByClassName("subject");
                alert(subClass[1]);
                for(i = 0; i < subClass.length; i++){
                    subClass[i].checked = true;
                }
            } else {
                /*
                document.frm2.subject1.checked = false;
                document.frm2.subject2.checked = false;
                document.frm2.subject3.checked = false;
                */
                var subClass = document.getElementsByClassName("subject");
                for(i = 0; i < subClass.length; i++){
                    subClass[i].checked = false;
                }
            }
        };
    };    
</script>
    
<style>
    #terms {
        width: 400px; height: 100px;
        border: 1px solid gray;
        overflow: auto;
    }
</style>
</head>
<body>
    <form action="#" name="frm1">
        <fieldset>
            <legend>폼요소1(비밀번호 확인)</legend>
            <p>
                <label for="user_pw1">비밀번호</label>
                <input type="password" name="pw1" id="user_pw1">
            </p>
            <p>
                <label for="user_pw2">비밀번호확인</label>
                <input type="text" name="pw2" id="user_pw2" value="1234"><!--value는 값, 1234를 디폴트로 박음-->
                <input type="submit" value="비밀번호 보기">
            </p>
        </fieldset>
    </form>
    
    <form action="#" name="frm2">
        <fieldset>
            <legend>폼요소2(약관동의/과목선택)</legend>
            <div id="terms" name="txt">
                회사는 법령에 따라서..... ~~~~ 개인정보를 안전하게 관리한다.
                회사는 법령에 따라서..... ~~~~ 개인정보를 안전하게 관리한다.
                회사는 법령에 따라서..... ~~~~ 개인정보를 안전하게 관리한다.
                회사는 법령에 따라서..... ~~~~ 개인정보를 안전하게 관리한다.
                회사는 법령에 따라서..... ~~~~ 개인정보를 안전하게 관리한다.
                회사는 법령에 따라서..... ~~~~ 개인정보를 안전하게 관리한다.
                회사는 법령에 따라서..... ~~~~ 개인정보를 안전하게 관리한다.
                회사는 법령에 따라서..... ~~~~ 개인정보를 안전하게 관리한다.
            </div>
            <p>
                <input type="checkbox" name="accept" id="id_acpt">
<!--            약관에 동의합니다.-->
                <label for="id_acpt">약관의 동의합니다</label>
               <!--'for'로 input과 묶어주면 글자(label)만 클릭해도 체크가능-->
                <!--'for'에는 id값을 넣어줌-->
            </p>
            <p>
                <input type="checkbox" name="allCheck" id="id_allChk">
                <label for="id_allChk">전체선택</label>
                
                <input type="checkbox" name="subject1" id="id_subject1" class="subject">
                <label for="subject1">과목1</label>
                
                <input type="checkbox" name="subject2" id="id_subject2" class="subject">
                <label for="subject2">과목2</label>
                
                <input type="checkbox" name="subject3" id="id_subject3" class="subject">
                <label for="subject3">과목3</label>
            </p>
            <p>
                <input type="submit" value="등록">
                <input type="reset" value="초기화">
            </p>
        </fieldset>
    </form>
    
    
    
    
    
    
    
    
    
    
    
</body>
</html>